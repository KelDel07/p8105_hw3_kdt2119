---
title: "Homework 3"
author: "Kelvin Delali Tamakloe"
date: 10/20/2021
output: github_document
---
```{r setup}
library(tidyverse)
library(dplyr)
library(p8105.datasets)
library(janitor)
library(readr)
```

# Question 1

## Instacart Dataset Exploration

Below, we will explore the instacart dataset

```{r}
data("instacart")
```

Brief Description:
Instacart is an American grocery delivery and pick up service company. The `instacart` dataset has data from the year 2017. There are `r nrow(instacart)` observations and `r ncol(instacart)` variables. In this dataset, the the total number of data points `r nrow(instacart)*ncol(instacart)`. There are some key variables in this dataset including `r colnames(instacart)`.

## Total number of aisles and aisles from which the most items are ordered

The code below will tell us how many aisles there are, and from which aisles the most items are ordered.

```{r, message = FALSE, warning = FALSE}
instacart %>% 
	count(aisle) %>% 
	arrange(desc(n))
```
There are a total 134 `aisles`. The aisles from which the most items are ordered are `fresh vegetables`, `fresh fruits`, and `packaged vegetables fruits` in that order.

## Plot of number of items ordered per aisle (> 10000 items ordered)

The code below generates a plot of the number of items ordered in each aisle but limited to aisles with more than 10000 orders.

```{r aisles_plot}
instacart %>%
  count(aisle) %>%
  filter(n > 10000) %>%
  ggplot(aes(forcats::fct_reorder(aisle, (n)), n)) +
  geom_col() +
  coord_flip() +
  labs(
    title = "Number of items ordered per aisle",
    x = "Aisle name",
    y = "Number of items ordered",
    caption = "Data from instacart limited to aisles with more than 10,000 items ordered"
  )
```