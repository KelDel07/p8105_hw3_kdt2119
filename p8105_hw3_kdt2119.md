Homework 3
================
Kelvin Delali Tamakloe
10/20/2021

``` r
library(tidyverse)
```

    ## -- Attaching packages --------------------------------------- tidyverse 1.3.1 --

    ## v ggplot2 3.3.5     v purrr   0.3.4
    ## v tibble  3.1.4     v dplyr   1.0.7
    ## v tidyr   1.1.3     v stringr 1.4.0
    ## v readr   2.0.1     v forcats 0.5.1

    ## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(dplyr)
library(p8105.datasets)
library(janitor)
```

    ## 
    ## Attaching package: 'janitor'

    ## The following objects are masked from 'package:stats':
    ## 
    ##     chisq.test, fisher.test

``` r
library(readr)
```

# Question 1

## Instacart Dataset Exploration

Below, we will explore the instacart dataset

``` r
data("instacart")
```

Brief Description:

Instacart is an American grocery delivery and pick up service company.

The `instacart` dataset has data from the year 2017. There are 1384617
observations and 15 variables.

In this dataset, the the total number of data points is 20769255. There
are some key variables in this dataset including order\_id, product\_id,
add\_to\_cart\_order, reordered, user\_id, eval\_set, order\_number,
order\_dow, order\_hour\_of\_day, days\_since\_prior\_order,
product\_name, aisle\_id, department\_id, aisle, department.

## Total number of aisles and aisles from which the most items are ordered

The code below will tell us how many aisles there are, and from which
aisles the most items are ordered.

``` r
instacart %>% 
    count(aisle) %>% 
    arrange(desc(n))
```

    ## # A tibble: 134 x 2
    ##    aisle                              n
    ##    <chr>                          <int>
    ##  1 fresh vegetables              150609
    ##  2 fresh fruits                  150473
    ##  3 packaged vegetables fruits     78493
    ##  4 yogurt                         55240
    ##  5 packaged cheese                41699
    ##  6 water seltzer sparkling water  36617
    ##  7 milk                           32644
    ##  8 chips pretzels                 31269
    ##  9 soy lactosefree                26240
    ## 10 bread                          23635
    ## # ... with 124 more rows

There are a total 134 `aisles`. The aisles from which the most items are
ordered are `fresh vegetables`, `fresh fruits`, and
`packaged vegetables fruits` in that order.

## Plot of number of items ordered per aisle (&gt; 10000 items ordered)

The code below generates a plot of the number of items ordered in each
aisle but limited to aisles with more than 10000 orders.

``` r
instacart %>%
  count(aisle) %>%
  filter(n > 10000) %>%
  ggplot(aes(forcats::fct_reorder(aisle, (n)), n)) +
  geom_col() +
  coord_flip() +
  labs(
    title = "Number of items ordered per aisle",
    x = "Aisle name",
    y = "Number of items ordered",
    caption = "Data from instacart limited to aisles with more than 10,000 items ordered"
  )
```

![](p8105_hw3_kdt2119_files/figure-gfm/aisles_plot-1.png)<!-- -->

## Table showing three most popular items in selected aisles

The code below produces a table showing the three most popular items in
each of the aisles “baking ingredients”, “dog food care”, and “packaged
vegetables fruits”,with information on the number of items ordered.

``` r
instacart %>%
  filter(aisle == "baking ingredients" | 
           aisle == "dog food care" | 
           aisle == "packaged vegetables fruits") %>%
 count(aisle, product_name) %>%
  arrange(desc(n)) %>%
  group_by(aisle) %>%
  slice(1:3) %>%
  arrange(desc(n)) %>%
  group_by(aisle) %>%
  knitr::kable(caption = "Three Most Ordered Items Per Aisle")
```

| aisle                      | product\_name                                 |    n |
|:---------------------------|:----------------------------------------------|-----:|
| packaged vegetables fruits | Organic Baby Spinach                          | 9784 |
| packaged vegetables fruits | Organic Raspberries                           | 5546 |
| packaged vegetables fruits | Organic Blueberries                           | 4966 |
| baking ingredients         | Light Brown Sugar                             |  499 |
| baking ingredients         | Pure Baking Soda                              |  387 |
| baking ingredients         | Cane Sugar                                    |  336 |
| dog food care              | Snack Sticks Chicken & Rice Recipe Dog Treats |   30 |
| dog food care              | Organix Chicken & Brown Rice Recipe           |   28 |
| dog food care              | Small Dog Biscuits                            |   26 |

Three Most Ordered Items Per Aisle

From the table, `organic baby spinach`, `organic raspberries`, and
`organic blueberries` are the three most ordered items from the
`packaged vegetables fruits` aisle.

Also, `light brown sugar`, `pure baking soda`, and `cane sugar` are the
three most ordered items from the `baking ingredients` aisle.

The three most ordered items from the `dog food care` aisle are
`snack sticks chicken & rice recipe dog treats`,
`organix chicken & brown rice recipe`, and `small dog biscuits`.

### 2x7 table showing the mean hour of the day at which Pink Lady Apples and Coffee Ice Cream are ordered on each day of the week.
